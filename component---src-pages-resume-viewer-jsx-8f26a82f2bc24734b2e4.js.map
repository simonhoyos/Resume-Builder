{"version":3,"sources":["webpack:///./src/components/A4Container.jsx","webpack:///./node_modules/gatsby/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./src/utils/gatsby-frontend-helpers.js","webpack:///./src/pages/ResumeViewer.jsx","webpack:///./node_modules/classnames/index.js","webpack:///./src/components/ResumeTemplates lazy ^\\.\\/.*\\/Index$ namespace object"],"names":["useStyles","makeStyles","theme","a4Container","backgroundColor","palette","background","paper","width","minHeight","position","top","left","visibility","pageBreakInside","borderBottom","alignCenter","margin","alignLeft","marginLeft","A4Container","children","customHeight","classes","style","height","className","classNames","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","getSnackbarMessage","localStorage","messageData","getItem","LOCALSTORAGE_MESSAGE_KEY","split","clearSnackbarMessage","removeItem","getCookieConsent","LOCALSTORAGE_COOKIE_CONSENT_KEY","LOCALSTORAGE_COOKIE_CONSENT_VALUE","setCookieConsentSeen","setItem","fetchGithubResumeJson","userName","url","fetch","method","response","text","isValidJsonString","jsonString","JSON","parse","ResumeViewer","params","uri","intl","useIntl","resumeTemplate","setResumeTemplate","useState","state","dispatch","useContext","StoreContext","username","template","pop","validTemplate","TEMPLATES_LIST","find","templateName","toLowerCase","hasData","isObjectNotEmpty","togglableJsonResume","jsonResume","useEffect","fetchResumeJsonAndLoadTemplate","navigate","traverseObject","setJsonResume","setTogglableJsonResume","Template","lazy","catch","importTemplate","uuid","resume","title","formatMessage","id","robots","fallback","hasOwn","hasOwnProperty","i","length","argType","push","Array","isArray","inner","call","join","module","exports","default","map","webpackAsyncContext","req","__webpack_require__","o","e","Error","code","ids","keys","Object"],"mappings":"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","file":"component---src-pages-resume-viewer-jsx-8f26a82f2bc24734b2e4.js","sourcesContent":["import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    a4Container: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        width: '21cm',\r\n        minHeight: '29.7cm',\r\n        '@media print': {\r\n            // backgroundColor: theme.palette.background.paper,\r\n            '-webkit-print-color-adjust': 'exact',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            visibility: 'visible !important',\r\n            '& *': {\r\n                visibility: 'visible !important',\r\n                '& div': {\r\n                    pageBreakInside: 'avoid',\r\n                    '&:last-child': {\r\n                        borderBottom: 'none',\r\n                    },\r\n                },\r\n            },\r\n        },\r\n    },\r\n    alignCenter: {\r\n        margin: '0 auto',\r\n    },\r\n    alignLeft: {\r\n        marginLeft: 'calc(50% - (11.5cm + 120px))',\r\n        '@media print': {\r\n            margin: '0 auto',\r\n        },\r\n    },\r\n}));\r\n\r\nfunction A4Container({ children, customHeight, alignCenter = true }) {\r\n    const classes = useStyles();\r\n    let style = {};\r\n\r\n    if (customHeight) {\r\n        style = {\r\n            height: `${customHeight}vh`,\r\n        };\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={classNames(\r\n                classes.a4Container,\r\n                {\r\n                    [classes.alignCenter]: alignCenter,\r\n                    [classes.alignLeft]: !alignCenter,\r\n                }\r\n            )}\r\n            style={style}\r\n        >\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default A4Container;\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import {\r\n    LOCALSTORAGE_COOKIE_CONSENT_KEY,\r\n    LOCALSTORAGE_COOKIE_CONSENT_VALUE,\r\n    LOCALSTORAGE_MESSAGE_KEY,\r\n} from './constants';\r\n\r\n// example: snackbar_message_key -> your_comment_submitted:success\r\nexport const setSnackbarMessage = (message, severity) => {\r\n    localStorage.setItem(\r\n        LOCALSTORAGE_MESSAGE_KEY,\r\n        `${message}:${severity}`\r\n    );\r\n};\r\n\r\nexport const getSnackbarMessage = () => {\r\n    // because of the SSR\r\n    if (typeof localStorage === 'undefined') {\r\n        return [];\r\n    }\r\n\r\n    const messageData = localStorage.getItem(LOCALSTORAGE_MESSAGE_KEY);\r\n    if (messageData) {\r\n        return messageData.split(':');\r\n    }\r\n\r\n    return [];\r\n};\r\n\r\nexport const clearSnackbarMessage = () => {\r\n    localStorage.removeItem(LOCALSTORAGE_MESSAGE_KEY);\r\n};\r\n\r\nexport const getCookieConsent = () => {\r\n    // because of the SSR\r\n    if (typeof localStorage === 'undefined') {\r\n        return null;\r\n    }\r\n\r\n    return localStorage.getItem(LOCALSTORAGE_COOKIE_CONSENT_KEY) === LOCALSTORAGE_COOKIE_CONSENT_VALUE;\r\n};\r\n\r\nexport const setCookieConsentSeen = () => {\r\n    localStorage.setItem(\r\n        LOCALSTORAGE_COOKIE_CONSENT_KEY,\r\n        LOCALSTORAGE_COOKIE_CONSENT_VALUE\r\n    );\r\n};\r\n\r\nexport const fetchGithubResumeJson = async (userName) => {\r\n    const url = `https://raw.githubusercontent.com/${userName}/resume.json/main/resume.json`;\r\n    const result = await fetch(url, {\r\n        method: 'GET',\r\n    }).then(async (response) =>\r\n        // eslint-disable-next-line no-return-await\r\n        await response.text());\r\n\r\n    // eslint-disable-next-line no-return-await\r\n    return result || '{}';\r\n};\r\n\r\nexport const isValidJsonString = (jsonString) => {\r\n\r\n    if (!(jsonString && typeof jsonString === 'string')) {\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        JSON.parse(jsonString);\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n\r\n};\r\n","/* eslint template-curly-spacing: 0, indent: 0 */\r\n/* globals TEMPLATES_LIST */\r\nimport React, { lazy, Suspense, useContext, useEffect, useState } from 'react';\r\nimport { navigate, useIntl } from 'gatsby-plugin-intl';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { cloneDeep } from 'lodash';\r\nimport SEO from '../components/SEO';\r\nimport { fetchGithubResumeJson, isValidJsonString } from '../utils/gatsby-frontend-helpers';\r\nimport A4Container from '../components/A4Container';\r\nimport { StoreContext } from '../store/StoreProvider';\r\nimport setJsonResume from '../store/actions/setJsonResume';\r\nimport { isObjectNotEmpty, traverseObject } from '../utils/utils';\r\nimport setTogglableJsonResume from '../store/actions/setTogglableJsonResume';\r\n\r\nconst importTemplate = (template) => lazy(() =>\r\n    import(`../components/ResumeTemplates/${template}/Index`).catch(() =>\r\n        import('../components/ResumeTemplates/Default/Index')));\r\n\r\nconst ResumeViewer = ({ params, uri }) => {\r\n    const intl = useIntl();\r\n    const [resumeTemplate, setResumeTemplate] = useState(['Default']);\r\n    const { state, dispatch } = useContext(StoreContext);\r\n\r\n    const username = params['*']; // TODO\r\n    const template = uri.split('/').pop(); // TODO\r\n    const validTemplate = TEMPLATES_LIST.find(\r\n        (templateName) => templateName.toLowerCase() === template.toLowerCase()\r\n    );\r\n    const hasData = isObjectNotEmpty(state?.togglableJsonResume) && isObjectNotEmpty(state?.jsonResume);\r\n\r\n    useEffect(() => {\r\n        const fetchResumeJsonAndLoadTemplate = async () => {\r\n            const jsonString = await fetchGithubResumeJson(username);\r\n            if (!isValidJsonString(jsonString)) {\r\n                navigate('/');\r\n            }\r\n\r\n            const jsonResume = JSON.parse(jsonString);\r\n            if (!isObjectNotEmpty(jsonResume)) {\r\n                navigate('/');\r\n            }\r\n\r\n            const togglableJsonResume = traverseObject(cloneDeep(jsonResume));\r\n            if (!isObjectNotEmpty(togglableJsonResume)) {\r\n                navigate('/');\r\n            }\r\n\r\n            dispatch(setJsonResume(jsonResume));\r\n            dispatch(setTogglableJsonResume(togglableJsonResume));\r\n            const Template = await importTemplate(validTemplate);\r\n            // console.log({validTemplate, jsonResume});\r\n            setResumeTemplate([\r\n                <Template\r\n                    key={uuid()}\r\n                    resume={togglableJsonResume}\r\n                />,\r\n            ]);\r\n        };\r\n\r\n        if (!username) {\r\n            navigate('/');\r\n        }\r\n\r\n        fetchResumeJsonAndLoadTemplate();\r\n    }, [dispatch, username, validTemplate]);\r\n\r\n    return (\r\n        <div>\r\n            <SEO\r\n                title={intl.formatMessage({ id: 'resume_viewer' })}\r\n                robots=\"noindex, nofollow\"\r\n            />\r\n            <A4Container\r\n                alignCenter\r\n            >\r\n                {hasData && (\r\n                    <Suspense\r\n                        fallback={intl.formatMessage({ id: 'loading' })}\r\n                    >\r\n                        {resumeTemplate}\r\n                    </Suspense>\r\n                )}\r\n                {!hasData && intl.formatMessage({ id: 'loading' })}\r\n            </A4Container>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ResumeViewer;\r\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","var map = {\n\t\"./Compact/Index\": [\n\t\t\"rABk\",\n\t\t18\n\t],\n\t\"./Default/Index\": [\n\t\t\"8/2X\",\n\t\t1\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"bjeo\";\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}